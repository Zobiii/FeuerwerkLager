@page
@model FeuerwerkLager.Pages.Locations.IndexModel
@{
    ViewData["Title"] = "Lagerpl√§tze";
}

<div class="page-header">
    <h2>Lagerpl√§tze</h2>
    <p>Alle Kartons / Lagerpl√§tze mit Bestands√ºbersicht.</p>
</div>

<div class="toolbar">
    <a asp-page="/Locations/Create" class="btn-main">
        ‚ûï Lagerplatz anlegen
    </a>
    <a asp-page="/Locations/Delete" class="btn-secondary-custom">
        üóëÔ∏è Lagerplatz l√∂schen
    </a>
    <a asp-page="/Locations/Barcodes" class="btn-secondary-custom">
        üñ®Ô∏è Barcodes drucken
    </a>
    <a asp-page="/Index" class="btn-secondary-custom">
        ‚¨ÖÔ∏è Zur√ºck zum Dashboard
    </a>
</div>

<div class="card">
    <div class="card-header">
        <h3 class="card-title mb-0">Lagerpl√§tze</h3>
    </div>
    <div class="card-body table-wrapper">
        <table class="table table-sm custom-table">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Beschreibung</th>
                    <th class="text-end">Positionen</th>
                    <th class="text-end">Gesamt St&uuml;ck</th>
                    <th class="text-end">NEM gesamt</th>
                    <th>Aktionen</th>
                </tr>
            </thead>
            <tbody>
            @if (!Model.Locations.Any())
            {
                <tr>
                    <td colspan="6" class="text-center py-4 text-muted">
                        Noch keine Lagerpl√§tze angelegt.
                    </td>
                </tr>
            }
            else
            {
                foreach (var loc in Model.Locations)
                {
                    <tr>
                        <td>@loc.Name</td>
                        <td>@loc.Description</td>
                        <td class="text-end">@loc.PositionCount</td>
                        <td class="text-end">@loc.TotalQuantity</td>
                        <td class="text-end">
                            @if (loc.TotalNEM.HasValue)
                            {
                                @loc.TotalNEM.Value.ToString("0.##")
                            }
                        </td>
                        <td>
                            <a asp-page="/Locations/Details" asp-route-id="@loc.Id" class="btn-ghost btn-sm">
                                üîé Details
                            </a>
                        </td>
                    </tr>
                }
            }
            </tbody>
        </table>
    </div>
</div>
