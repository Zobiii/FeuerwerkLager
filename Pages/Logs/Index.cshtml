@page
@model FeuerwerkLager.Pages.Logs.IndexModel
@{
    ViewData["Title"] = "Log";
}

<div class="page-header">
    <h2>Aktions-Log</h2>
    <p>Alle Aktionen (Artikel, Buchungen, Reset) im Überblick.</p>
</div>

<div class="card log-card">
    <div class="card-header d-flex justify-content-between align-items-center">
        <h3 class="card-title mb-0">Log-Einträge</h3>
        <a asp-page="/Index" class="btn-secondary-custom">
            Zurück zum Dashboard
        </a>
    </div>
    <div class="card-body">
        <form method="get" class="filter-bar mb-3">
            <div class="form-group">
                <label for="limitInput">Zeilen</label>
                <input id="limitInput" name="Limit" type="number" min="1" max="2000" value="@Model.Limit" class="form-control" />
            </div>
            <div class="form-group">
                <label for="containsInput">Filter (Text)</label>
                <input id="containsInput" name="Contains" value="@Model.Contains" class="form-control" placeholder="z.B. Artikel, Lagerplatz, Reset" />
            </div>
            <div class="form-group">
                <button type="submit" class="btn-main">Anwenden</button>
            </div>
        </form>

        @if (Model.Lines == null || !Model.Lines.Any())
        {
            <div class="text-muted">
                Noch keine Log-Einträge vorhanden.
            </div>
        }
        else
        {
            <div class="small text-muted mb-2">Zeigt die letzten @Model.Lines.Length Zeilen (neueste zuerst).</div>
            <div class="log-view log-view-readable">
                <ol class="mb-0">
                @foreach (var line in Model.Lines)
                {
                    <li>@line</li>
                }
                </ol>
            </div>
        }
    </div>
</div>

@section Styles {
    <style>
        .log-view-readable {
            background: rgba(10, 16, 32, 0.9);
            color: #e6edff;
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 0.6rem;
            padding: 0.8rem 1rem;
        }

        .log-view-readable ol {
            padding-left: 1.25rem;
            margin: 0;
            line-height: 1.45;
        }

        .log-view-readable li {
            color: #d8e2ff;
        }
    </style>
}
